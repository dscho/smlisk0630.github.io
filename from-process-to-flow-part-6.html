<!DOCTYPE html>
<html lang="en-us">

<head>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Samantha Lisk</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="style.css">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet">

</head>

<body>

  <header>

    <!-- Heading with my name -->
    <section class="jumbotron jumbotron-fluid pb-3">
      <section class="container">
        <h1 class="display-4">Samantha Lisk, M.S.</h1>
      </section>
    </section>

    <!-- Nav menu, including dropdown -->
    <nav class="navbar navbar-expand-lg navbar-light navbar-custom justify-content-center">
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
          aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
      </button>
      <section class="collapse navbar-collapse justify-content-center ml-auto text-center" id="navbarNav">
          <ul class="navbar-nav">
              <li class="nav-item">
                  <a class="nav-link text-white" href="https://smlisk0630.github.io">Home</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link text-white" href="https://smlisk0630.github.io/about">About</a>
              </li>
              <li class="nav-item dropdown">
                  <a class="nav-link text-white" href="https://smlisk0630.github.io/work" id="navbarDropdown"
                      role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Work</a>
                  <section class="dropdown-menu" aria-labelledby="navbarDropdown">
                      <a class="dropdown-item"
                          href="https://www.linkedin.com/pulse/from-ad-hoc-automation-salesforce-case-management-solo-lisk-m-s-/">From
                          Ad Hoc to Automation</a>
                      <a class="dropdown-item"
                          href="https://smlisk0630.github.io/from-process-to-flow-series">From Process to Flow
                          Series</a>
                      <a class="dropdown-item"
                          href="https://vevents0.wpengine.com/lessons/3-principles-of-change-management-for-the-accidental-admin-samantha-lisk-salesforce-certified-administrator-the-fedcap-group/">Principles
                          of Change Management</a>
                  </section>
              </li>
              <li class="nav-item">
                  <a class="nav-link text-white" href="https://github.com/smlisk0630" target="_blank">Github</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link text-white" href="https://www.linkedin.com/in/samanthalisk/" target="_blank">LinkedIn</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link text-white" href="https://trailblazer.me/id/slisk"
                      target="_blank">Trailhead</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link text-white" href="https://smlisk0630.github.io/portfolio">Portfolio</a>
              </li>
          </ul>
      </section>
  </nav>

  </header>

  <!-- Heading with article title -->
  <section class="jumbotron jumbotron-fluid pb-3">
    <section class="container-custom p-3">
      <h2 class="display-5">
        From Process to Flow: Part 6
      </h2>
    </section>
  </section>

  <!-- Article content -->
  <section class="container mt-4 mx-auto">
    <article>
      <p>
        Review time. What have we accomplished so far?
      </p>
      <ul>
        <li>
          Created a new Custom Label
        </li>
        <li>
          Installed the FlowBasepacks packages
        </li>
        <li>
          Built our screen Flow with different types of variables and elements
        </li>
      </ul>
      <p>
        We have come far in a short amount of time. But as Robert Frost <a
          href="https://www.poetryfoundation.org/poems/42891/stopping-by-woods-on-a-snowy-evening"
          target="_blank">wrote</a>, we still have “miles to go before [we] sleep.” Now we must turn our attention to
        the Admin’s worst nightmare.
      </p>
      <p>
        Custom code.
      </p>
      <h3>What’s In a Name? (Devmin? Admineloper?)</h3>
      <figure>
        <img class="images-flow" name="New Case Flow Component" src="/assets/Images/New Case Flow Component.png"
          alt="Screenshot of new case flow component" />
      </figure>
      <p>
        You might be wondering why it’s necessary to write any custom code for this project. When I first conceived of
        it, I didn’t know coding would be involved. Although I have experience in web development, so far in my
        Salesforce career I have remained firmly on the Admin side of the fence, though I would like to eventually cross
        over.
      </p>
      <p>
        As we have seen, Flows require a basic understanding of coding concepts and terminology. It’s actually been very
        difficult to wrap my head around them, which is one reason I completed this project and am writing about the ins
        and outs now—to cement the concepts in my mind.
      </p>
      <p>
        However, it was not until I began planning my Flow that I found out more would be required for this project than
        declarative development.
      </p>
      <p>
        Flows by themselves are <a
          href="https://help.salesforce.com/articleView?id=flow_distribute_internal_action.htm&type=5"
          target="_blank">not supported</a> for Global Actions. Global Actions can only call a Flow (that is, cause a
        Flow to be executed) from <a
          href="https://help.salesforce.com/articleView?id=flow_distribute_context.htm&type=5" target="_blank">a
          Lightning Aura Component</a>. And Lightning Aura Components require code.
      </p>
      <h3>Component</h3>
      <p>
        We’ll be creating an Aura component that will call and style our Flow in the Global Action. If you’re new to
        coding, it’s easiest to create this in Salesforce’s Developer Console.
      </p>
      <ol>
        <li>
          Click the Setup icon.
        </li>
        <li>
          Select "Developer Console."
        </li>
        <li>
          Go to “File,” then select “New,” then “Lightning Component.”
        </li>
        <li>
          Enter a Name and Description for your Component, e.g. “newCaseFlow.”
        </li>
        <li>
          Click "Submit."
        </li>
      </ol>
      <p>
        Now, 2 screens will open in the Developer Console. The first is the Component Description, and you can close
        that screen. The second is the Component itself. This is where your code goes.
      </p>
      <p>
        Explaining all of the code we’ll be using here is outside the scope of this article. If you’re interested, there
        are many resources available where you can learn about it, including Trailhead, Apex Hours, David Liu’s Apex
        Academy, and developer documentation. Otherwise, you can just simply copy/paste the code below into the
        Component to replace the default code. The code you're copy/pasting calls the Flow in the Global Action. Then
        save, but don’t quit yet.
      </p>
      <p class="code">
        <code>
                    &lt;aura:component implements="force:lightningQuickActionWithoutHeader,flexipage:availableForAllPageTypes,
                    
                    flexipage:availableForRecordHome,force:hasRecordId" access="global"&gt;
                    <br>
                    &lt;!-- Component is initialized --&gt;
                    <br>
                    &lt;aura:handler name="init" value="{!this}" action="{!c.init}" /&gt;
                    <br> 
                        &lt;div class="slds-docked_container_align-left"&gt;
                        <br>
                        &lt;div class="slds-docked-modal_composer slds-grid slds-grid_vertical-align-left slds-grid_align-left slds-is-open" role="dialog" aria-labelledby="dialog-heading-id-1" aria-describedby="dialog-content-id-1"&gt;
                        <br>
                        &lt;div class="slds-docked-composer__body slds-scrollable"&gt;
                        <br>
                            &lt;lightning:flow aura:id="flowData" /&gt;
                            <br>
                        &lt;/div&gt;
                        <br>
                        &lt;/div&gt;
                        <br>
                        &lt;/div&gt;
                        <br>
                    &lt;/aura:component&gt;
                    </code>
      </p>
      <h3>Controller</h3>
      <p>
        Congratulations! You’ve just written your first Lightning Component. However, if you look to the right side of
        the Console, you’ll see a list with a heading of the name of your Component. This is your code bundle—a series
        of connected files that work together to style your Component and make it work the way you want it to.
      </p>
      <p>
        For now, click the “CONTROLLER” item in the list. This opens another screen in the Console, the Controller file.
        The Controller file uses JavaScript to add and control the interactive parts of your Component, that is, the
        parts that users do something to or with. For example, if you have a form with a Submit button, it’s the
        JavaScript in the button that actually submits the form when the button is clicked.
      </p>
      <p>
        Below is the JavaScript you’ll copy/paste into your Controller file to replace the default code there. Note: in
        the line “flow.startFlow(“New_Case”);" you’ll replace “New Case” with the API Name of your Flow. Be sure to save
        after copy/pasting.
      </p>
      <p class="code">
        <code>
                        ({
                            init : function(component) {
                                <br>
                                // Find the component whose aura:id is "flowData"
                                let flow = component.find("flowData");
                                <br>
                                // In that component, start your flow. Reference the flow's Unique Name/API Name
                                <br>
                            flow.startFlow("New_Case");
                            <br>
                            }
                            <br>
                        })
                        </code>
      </p>
      <h3>Style</h3>
      <p>
        So we’ve added the code that will call the Flow in the Global Action, and we’ve added the code that will make it
        interactive. The last piece of code we need is CSS to style, or design the appearance of, our Component to meet
        Salesforce Lightning Design standards. The good news is that much of this work was actually done in the code we
        added to the Component screen. However, there are a few things we need to add.
      </p>
      <p>
        First, open the “STYLE” file from the list on the right. Next, copy/paste the below code to replace the default
        code, then save. This code adds a scrollbar to our component and sets its width.
      </p>
      <p class="code">
        <code>
                        .THIS .slds-scrollable {
                            <br>
                            overflow: auto !important;
                            <br>
                            height: 25rem;
                            <br>
                        }
                        <br>
                        .THIS .slds-docked-modal-composer {
                            <br>
                            max-width: auto;
                            <br>
                        }                                
                        </code>
      </p>
      <p>
        And that’s all the code we’ll need! Hang in there, we’re almost done!
      </p>

    </article>
  </section>

  <!-- JQuery for Bootstrap -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
    crossorigin="anonymous"></script>
</body>

<!-- Footer with copyright info -->
<footer>

  <section class="jumbotron jumbotron-fluid pb-5">
    <section class="container">
      &copy; Samantha Lisk 2020
    </section>
  </section>

</footer>

</html>